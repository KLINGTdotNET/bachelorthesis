%------------------------------------------------------------------------------
% polyglossia settings
%------------------------------------------------------------------------------
\setmainlanguage{german}
\PolyglossiaSetup{german}{indentfirst=false}

%------------------------------------------------------------------------------
% epigraph settings
%------------------------------------------------------------------------------
% http://lsi.vc.ehu.es/pablogn/investig/ficheros/Latex/epigraph.pdf
\setlength{\epigraphwidth}{0.618\textwidth}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% style section
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%------------------------------------------------------------------------------
% color definitions
%------------------------------------------------------------------------------
\definecolor{lightgray}{gray}{0.95}
\definecolor{darkgray}{gray}{0.4}

%------------------------------------------------------------------------------
% table settings
%------------------------------------------------------------------------------
% make beautiful tables
% http://www.inf.ethz.ch/personal/markusp/teaching/guides/guide-tables.pdf
%
\renewcommand{\arraystretch}{1.3}
%
% remove white lines when coloring table rows
%
\setlength{\aboverulesep}{0pt}
\setlength{\belowrulesep}{0pt}

%------------------------------------------------------------------------------
% indent content with chapter/section heading
%------------------------------------------------------------------------------
% http://tex.stackexchange.com/questions/118818/align-text-with-heading
%
\newlength\mylen
\setlength\mylen{15mm}
\renewcommand*{\chapterformat}{%
  \llap{\protect\makebox[\mylen][l]{\chapappifchapterprefix{\nobreakspace}\thechapter\autodot\hfill}}%
}
\makeatletter
\def\@seccntformat#1{\llap{\protect\makebox[\mylen][l]{\csname the#1\endcsname\autodot\hfill}}}

%------------------------------------------------------------------------------
% set the enumeration depth, otherwise subsubsections won't be enumerated by default
%------------------------------------------------------------------------------
\setcounter{secnumdepth}{3} % default is 2

%------------------------------------------------------------------------------
% compact list settings (paralist package)
%------------------------------------------------------------------------------
\setlength{\pltopsep}{0.5\baselineskip}

%------------------------------------------------------------------------------
% hyperref
%------------------------------------------------------------------------------
\hypersetup{hidelinks,	% remove box
			colorlinks=true
			}

%------------------------------------------------------------------------------
% listing settings
%------------------------------------------------------------------------------
%
% ftp://ftp.tex.ac.uk/tex-archive/macros/latex/contrib/listings/listings.pdf
%
\lstset{
		basicstyle=\ttfamily\scriptsize,
		commentstyle=\color{gray},
		keywordstyle=\bfseries\color{magenta},
		identifierstyle=\itshape\color{cyan},
		stringstyle=\itshape\color{cyan!75!black},
		backgroundcolor=\color{lightgray},
		numbers=left,
		numberstyle=\rmfamily\tiny\color{gray!50!black},
		escapeinside={//@}{@//},
		frame=lines,
		captionpos=b,
		breaklines=true,
		breakautoindent=true,
		xleftmargin=8mm,
		framexleftmargin=8mm,
		aboveskip=\baselineskip
		%frame=tb 	%tblrTBLR
		%frame=shadowbox
	}

%
% definition of javascript syntax highlighting
%
% thanks to: http://lenaherrmann.net/2010/05/20/
%
\lstdefinelanguage{JavaScript}{
	keywords={typeof, new, true, false, catch, function, return, null, catch, switch, var, if, in, while, do, else, case, break},
	ndkeywords={class, export, boolean, throw, implements, import, this},
	ndkeywordstyle=\color{darkgray}\bfseries,
	sensitive=false,
	comment=[l]{//},
	morecomment=[s]{/*}{*/},
	morestring=[b]',
	morestring=[b]"
}

%------------------------------------------------------------------------------
% glossary style
%------------------------------------------------------------------------------
%
% p. 109 ff (ftp://ftp.tu-chemnitz.de/pub/tex/macros/latex/contrib/glossaries/glossaries-user.pdf)
%
\glossarystyle{altlist}

%------------------------------------------------------------------------------
% load tikzstyles
%------------------------------------------------------------------------------
\input{header/tikzStyles}

% thousands seperator for numprint package
\npthousandsep{.}

%------------------------------------------------------------------------------
% font settings
%------------------------------------------------------------------------------
\newfontfamily\chunkFiveEx[]{ChunkFive Ex}
\newfontfamily\vollkorn[]{Vollkorn}
%\setmainfont[Ligatures={Common,TeX}, Numbers=OldStyle]{Linux Libertine O}
\setmonofont{Consolas}

%
% set section and chapter heading fonts
% http://tex.stackexchange.com/questions/25845/koma-script-change-font-of-sectioning-headings-to-serif
%
\addtokomafont{disposition}{\rmfamily}

%
% set style of description labels
%
\renewcommand{\descriptionlabel}[1]{\hspace{\labelsep}\textrm{\textsl{\textbf{\small{#1:}}}}}
\setlist[description]{style=nextline}

%
% setup captions
%
\setkomafont{caption}{\footnotesize}
\setkomafont{captionlabel}{\usekomafont{caption}\bfseries}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% pagestyle definitions
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% see http://www.ctex.org/documents/packages/nonstd/koma-script.pdf, chapter 5.2
% (ull,ulw){evenpage}{oddpage}{onepage}(lll,llw)
%
% Example
% \newpagestyle{myStyle}
%	% header line
%	{(\textwidth,0pt)	% length and width of line on top of header
%		{\pagemark{} von \pageref{lastPage}\hfill}	% even pages
%		{\hfill\pagemark{} von \pageref{lastPage}}	% odd pages
%		{\hfill\pagemark{} von \pageref{lastPage}}	% onepage style
%	(\textwidth,0.5pt)}	% length and width of line below header
%	%footer line
%	{(\textwidth,0pt)	% length and width of line on top of footer
%		{\hfill}	% even pages
%		{\hfill}	% odd pages
%		{\hfill}	% onepage style
%	(\textwidth,0pt)}	% length and width of line below footer

\newcommand{\footerlogowidth}{32pt}
%\newcommand{footerOrnament}{\includegraphics[width=32pt]{frontpage/HTWK_Logo_schwarz}}
%\newcommand{\footerOrnament}{\adfflourishleftdouble{} \adfast4{} \adfflourishrightdouble{}}
\newcommand{\footerOrnament}{\raisebox{-8pt}{\includegraphics[width=\footerlogowidth]{frontpage/HTWK_Logo_schwarz}}}

% change style of \pagemark, slightly bend and roman font family
\renewcommand*{\pnumfont}{%
	\normalfont\rmfamily\slshape
}

\newpagestyle{chapterStyle}
	% header line
	{(\textwidth,0pt)
		{\pagemark{} von \pageref{lastPage}\hfill}
		{\hfill\pagemark{} von \pageref{lastPage}}
		{\hfill\pagemark{} von \pageref{lastPage}}
	(\textwidth,0.5pt)}
	%footer line
	{(\textwidth,0pt) 
		{\decorativeLine{\footerOrnament{}}{2pt}}
		{\decorativeLine{\footerOrnament{}}{2pt}}
		{\decorativeLine{\footerOrnament{}}{2pt}}
	(\textwidth,0pt)}

\newpagestyle{mainpartStyle}
	% header line
	{(\textwidth,0pt)
		{\pagemark{} von \pageref{lastPage}\hfill\rightmark}
		{\leftmark\hfill\pagemark{} von \pageref{lastPage}}
		{\leftmark\hfill\pagemark{} von \pageref{lastPage}}
	(\textwidth,0.5pt)}
	%footer line
	{(\textwidth,0pt) 
		{\decorativeLine{\footerOrnament{}}{2pt}}
		{\decorativeLine{\footerOrnament{}}{2pt}}
		{\decorativeLine{\footerOrnament{}}{2pt}}
	(\textwidth,0pt)}


\newpagestyle{appendixChapterStyle}
	% header line
	{(\textwidth,0pt)
		{\pagemark{} von \pageref{lastAppendixPage}\hfill}
		{\hfill\pagemark{} von \pageref{lastAppendixPage}}
		{\hfill\pagemark{} von \pageref{lastAppendixPage}}
	(\textwidth,0.5pt)}
	%footer line
	{(\textwidth,0pt) 
		{\decorativeLine{\footerOrnament{}}{2pt}}
		{\decorativeLine{\footerOrnament{}}{2pt}}
		{\decorativeLine{\footerOrnament{}}{2pt}}
	(\textwidth,0pt)}

\newpagestyle{appendixStyle}
	% header line
	{(\textwidth,0pt)
		{\pagemark{} von \pageref{lastAppendixPage}\hfill\rightmark}
		{\leftmark\hfill\pagemark{} von \pageref{lastAppendixPage}}
		{\leftmark\hfill\pagemark{} von \pageref{lastAppendixPage}}
	(\textwidth,0.5pt)}
	%footer line
	{(\textwidth,0pt) 
		{\decorativeLine{\footerOrnament{}}{2pt}}
		{\decorativeLine{\footerOrnament{}}{2pt}}
		{\decorativeLine{\footerOrnament{}}{2pt}}
	(\textwidth,0pt)}
