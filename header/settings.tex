%------------------------------------------------------------------------------
% enumeration depth of table of contents (excluding chapters, for X.1.1.1 you need a value 3)
%------------------------------------------------------------------------------
\setcounter{tocdepth}{2}

%------------------------------------------------------------------------------
% polyglossia settings
%------------------------------------------------------------------------------
\setmainlanguage{german}
\PolyglossiaSetup{german}{indentfirst=false}

%------------------------------------------------------------------------------
% epigraph settings
%------------------------------------------------------------------------------
% http://lsi.vc.ehu.es/pablogn/investig/ficheros/Latex/epigraph.pdf
\setlength{\epigraphwidth}{0.618\textwidth}

%------------------------------------------------------------------------------
% cleverref (cref) settings
%------------------------------------------------------------------------------
\crefname{lstlisting}{listing}{listings}
\Crefname{lstlisting}{Listing}{Listings}
\crefname{item}{Aufz채hlung}{Aufz채hlungen}
\Crefname{item}{Aufz채hlung}{Aufz채hlungen}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% style section
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%------------------------------------------------------------------------------
% color definitions
%------------------------------------------------------------------------------
\definecolor{lightgray}{gray}{0.96}
\definecolor{darkgray}{gray}{0.4}

%------------------------------------------------------------------------------
% table settings
%------------------------------------------------------------------------------
% make beautiful tables
% http://www.inf.ethz.ch/personal/markusp/teaching/guides/guide-tables.pdf
%
\renewcommand{\arraystretch}{1.3}
%
% remove white lines when coloring table rows
%
\setlength{\aboverulesep}{0pt}
\setlength{\belowrulesep}{0pt}
%\captionsetup[table]{3pt}
%\captionsetup[table]{belowskip=\baselineskip}

%------------------------------------------------------------------------------
% indent content with chapter/section heading
%------------------------------------------------------------------------------
% http://tex.stackexchange.com/questions/118818/align-text-with-heading
%
\newlength\mylen
\setlength\mylen{15mm}
\renewcommand*{\chapterformat}{%
  \llap{\protect\makebox[\mylen][l]{\chapappifchapterprefix{\nobreakspace}\thechapter\autodot\hfill}}%
}
\makeatletter
\def\@seccntformat#1{\llap{\protect\makebox[\mylen][l]{\csname the#1\endcsname\autodot\hfill}}}

%------------------------------------------------------------------------------
% set the enumeration depth, otherwise subsubsections won't be enumerated by default
%------------------------------------------------------------------------------
\setcounter{secnumdepth}{3} % default is 2

%------------------------------------------------------------------------------
% compact list settings (paralist package)
%------------------------------------------------------------------------------
\setlength{\pltopsep}{0.5\baselineskip}

%------------------------------------------------------------------------------
% hyperref
%------------------------------------------------------------------------------
\hypersetup{hidelinks,	% remove box
			colorlinks=false
			}

%------------------------------------------------------------------------------
% listing settings
%------------------------------------------------------------------------------
%
% ftp://ftp.tex.ac.uk/tex-archive/macros/latex/contrib/listings/listings.pdf
%
\lstset{
		basicstyle=\ttfamily\scriptsize,
		commentstyle=\color{gray},
		%keywordstyle=\bfseries\color{magenta},
		keywordstyle=\bfseries,
		%identifierstyle=\itshape\color{magenta!50!cyan!40!black},
		identifierstyle=\itshape\color{black},
		%stringstyle=\itshape\color{cyan!75!black},
		stringstyle=\rmfamily\slshape,
		backgroundcolor=\color{lightgray},
		numbers=left,
		numberstyle=\rmfamily\tiny\color{gray!50!black},
		escapeinside={//@}{@//},
		frame=lines,
		captionpos=b,
		breaklines=true,
		breakautoindent=true,
		xleftmargin=8mm,
		framexleftmargin=8mm,
		aboveskip=\baselineskip
		%frame=tb 	%tblrTBLR
		%frame=shadowbox
	}

\lstdefinestyle{EBNF}{
	numbers=none,
	basicstyle=\ttfamily\footnotesize,
	%keywordstyle=\color{cyan},
	identifierstyle=\color{black},
	stringstyle=\slshape\color{black},
	backgroundcolor=\color{lightgray},
	escapeinside={//@}{@//},
	frame=lines,
	captionpos=b,
	breaklines=true,
	breakautoindent=true,
	xleftmargin=8mm,
	framexleftmargin=8mm,
	aboveskip=\baselineskip,
	belowskip=0.5\baselineskip
}

\lstdefinelanguage{EBNF}{
	alsoletter={\|, [, ]},
	keywords={\|, [, ]},
	sensitive=false
}

%
% definition of javascript syntax highlighting
%
% thanks to: http://lenaherrmann.net/2010/05/20/
%
\lstdefinelanguage{JavaScript}{
	keywords={typeof, new, true, false, catch, function, return, null, catch, switch, var, if, in, while, do, else, case, break},
	ndkeywords={class, export, boolean, throw, implements, import, this},
	ndkeywordstyle=\color{darkgray}\bfseries,
	sensitive=false,
	comment=[l]{//},
	morecomment=[s]{/*}{*/},
	morestring=[b]',
	morestring=[b]"
}

%------------------------------------------------------------------------------
% glossary style
%------------------------------------------------------------------------------
%
% p. 109 ff (ftp://ftp.tu-chemnitz.de/pub/tex/macros/latex/contrib/glossaries/glossaries-user.pdf)
%
\glossarystyle{list}


%------------------------------------------------------------------------------
% load tikzstyles
%------------------------------------------------------------------------------
\input{header/tikzStyles}

% thousands seperator for numprint package
\npthousandsep{.}

%------------------------------------------------------------------------------
% font settings
%------------------------------------------------------------------------------
\newfontfamily\chunkFiveEx[]{ChunkFive Ex}
\newfontfamily\vollkorn[]{Vollkorn}
\newfontfamily{\biolinum}[]{Linux Biolinum O}
%\newfontfamily\bitstream[]{Bitstream Charter}
%\setmainfont[Ligatures={Common,TeX}, Numbers=OldStyle]{Linux Libertine O}

%\setmainfont{Minion Pro}
\setmonofont[Scale=0.92]{Consolas} % Mono font has to be scaled, because it is larger than the textfont at the same font size

%
% set section and chapter heading fonts
% http://tex.stackexchange.com/questions/25845/koma-script-change-font-of-sectioning-headings-to-serif
%
\addtokomafont{disposition}{\rmfamily}

%
% set style of description labels
%
%\renewcommand{\descriptionlabel}[1]{\hspace{\labelsep}\textrm{\textsl{\small{#1}}:}}
\renewcommand{\descriptionlabel}[1]{\textrm{\textsl{\biolinum #1}:}}
%\renewcommand{\descriptionlabel}[1]{\textrm{\textbf{#1}}}
%\setlist[description]{style=nextline}

%
% setup captions
%
\setkomafont{caption}{\footnotesize}
\setkomafont{captionlabel}{\usekomafont{caption}\bfseries}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% pagestyle definitions
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
% see http://www.ctex.org/documents/packages/nonstd/koma-script.pdf, chapter 5.2
% (ull,ulw){evenpage}{oddpage}{onepage}(lll,llw)
%
% Example
% \newpagestyle{myStyle}
%	% header line
%	{(\textwidth,0pt)	% length and width of line on top of header
%		{\pagemark{} von \pageref{lastPage}\hfill}	% even pages
%		{\hfill\pagemark{} von \pageref{lastPage}}	% odd pages
%		{\hfill\pagemark{} von \pageref{lastPage}}	% onepage style
%	(\textwidth,0.5pt)}	% length and width of line below header
%	%footer line
%	{(\textwidth,0pt)	% length and width of line on top of footer
%		{\hfill}	% even pages
%		{\hfill}	% odd pages
%		{\hfill}	% onepage style
%	(\textwidth,0pt)}	% length and width of line below footer

\newcommand{\footerlogowidth}{32pt}
%\newcommand{footerOrnament}{\includegraphics[width=32pt]{frontpage/HTWK_Logo_schwarz}}
%\newcommand{\footerOrnament}{\adfflourishleftdouble{} \adfast4{} \adfflourishrightdouble{}}
\newcommand{\footerOrnament}{\adfflourishleftdouble{}}
%\newcommand{\footerOrnament}{\raisebox{-8pt}{\includegraphics[width=\footerlogowidth]{frontpage/HTWK_Logo_schwarz}}}

% change style of \pagemark, slightly bend and roman font family
\renewcommand*{\pnumfont}{%
	\normalfont\rmfamily\slshape
}

\newpagestyle{chapterStyle}
	% header line
	{(\textwidth,0pt)
		{\pagemark{} von \pageref{lastPage}\hfill}
		{\hfill\pagemark{} von \pageref{lastPage}}
		{\hfill\pagemark{} von \pageref{lastPage}}
	(\textwidth,0.5pt)}
	%footer line
	{(\textwidth,0pt) 
		{\decorativeLine{\footerOrnament{}}{2pt}}
		{\decorativeLine{\footerOrnament{}}{2pt}}
		{\decorativeLine{\footerOrnament{}}{2pt}}
	(\textwidth,0pt)}

\newpagestyle{mainpartStyle}
	% header line
	{(\textwidth,0pt)
		{\pagemark{} von \pageref{lastPage}\hfill\rightmark}
		{\leftmark\hfill\pagemark{} von \pageref{lastPage}}
		{\leftmark\hfill\pagemark{} von \pageref{lastPage}}
	(\textwidth,0.5pt)}
	%footer line
	{(\textwidth,0pt) 
		{\decorativeLine{\footerOrnament{}}{2pt}}
		{\decorativeLine{\footerOrnament{}}{2pt}}
		{\decorativeLine{\footerOrnament{}}{2pt}}
	(\textwidth,0pt)}


\newpagestyle{appendixChapterStyle}
	% header line
	{(\textwidth,0pt)
		{\pagemark{} von \pageref{lastPageAppendix}\hfill}
		{\hfill\pagemark{} von \pageref{lastPageAppendix}}
		{\hfill\pagemark{} von \pageref{lastPageAppendix}}
	(\textwidth,0.5pt)}
	%footer line
	{(\textwidth,0pt) 
		{\decorativeLine{\footerOrnament{}}{2pt}}
		{\decorativeLine{\footerOrnament{}}{2pt}}
		{\decorativeLine{\footerOrnament{}}{2pt}}
	(\textwidth,0pt)}

\newpagestyle{appendixStyle}
	% header line
	{(\textwidth,0pt)
		{\pagemark{} von \pageref{lastPageAppendix}\hfill\rightmark}
		{\leftmark\hfill\pagemark{} von \pageref{lastPageAppendix}}
		{\leftmark\hfill\pagemark{} von \pageref{lastPageAppendix}}
	(\textwidth,0.5pt)}
	%footer line
	{(\textwidth,0pt) 
		{\decorativeLine{\footerOrnament{}}{2pt}}
		{\decorativeLine{\footerOrnament{}}{2pt}}
		{\decorativeLine{\footerOrnament{}}{2pt}}
	(\textwidth,0pt)}
