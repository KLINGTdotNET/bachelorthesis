%
% Main LaTeX file for Bachelor Thesis
% Andreas Linz
% 2013
%

% http://www.howtotex.com/packages/the-nag-package-warns-you-for-incorrect-latex-usage/
\RequirePackage[l2tabu, orthodox]{nag}
% http://archiv.dante.de/dante/events/mv29/handouts/Klaus/koma-rauischholzhausen.pdf
%
\documentclass[a4paper, headsepline, ngerman, twoside, headings=openright, open=right, headinclude=false, DIV=calc]{scrreprt}

\input{header/header}
\input{header/commands}
\input{header/settings}

\makeglossaries
\bibliography{bibliography/thesisbib}

\input{appendix/glossary}

% calculate new typearea (Satzspiegel)
\typearea[current]{last}

\makeatother

\newtoggle{print}
\togglefalse{print}

\begin{document}
    \KOMAoptions{twoside = false}
    \input{variables/global}
    \pagestyle{empty}

    % Beginn der Titelseite und Verzeichnisse
    % roemische Seitennumerrierung
    \pagenumbering{Roman}

    %\maketitle    
    \begin{titlepage}
        \include{frontpage/frontpage}
    \end{titlepage}
    
    \blankpage{}

    % zweite Seite mit Angaben zur Arbeit etc. am unteren Ende
    \include{frontpage/title_backside}
    
    %
    % Selbständigkeitserklärung
    %
    \setcounter{page}{1}
    {
        \onehalfspacing
        \include{affidavit}
    }

    %
    % Danksagungen
    %
    {
        \onehalfspacing
        \include{frontpage/acknowledgement}
    }

    %
    % Abstract
    %
    % todo: Lizenz informationen einfuegen, CreativeCommons erlaubt?
    %
    {
        \onehalfspacing
        \include{abstract}
    }
    \blankpage{\thesisBlankPageText}

    % Inhaltsverzeichnis    
    \tableofcontents
    \blankpage{\thesisBlankPageText}

    %
    % Beginn des eigentlichen Inhalts
    % arabische Seitennumerrierung
    %

    \iftoggle{print}{%
      \KOMAoptions{twoside}
    }{
      % screen, do nothing
    }
    \pagenumbering{arabic}
    % headline even on first page of chapter
    \renewcommand*{\chapterpagestyle}{scrheadings}
    {        
        % http://www2.informatik.hu-berlin.de/~piefel/LaTeX-PS/Archive-2004/V07-footnote.pdf
        \pagestyle{scrheadings}
        \onehalfspacing
        \include{content/introduction/introduction}
        \include{content/basics/basics}
        \include{content/implementation/implementation}
        \include{content/summary/summary}
    }
    \blankpage


    % Beginn des Anhangs
    {        
        \pagestyle{scrheadings}
        \appendix 
        \pagenumbering{Alph}

        % Glossar        
        %\addcontentsline{toc}{subsection}{Glossar}
        \glsaddall
        \printglossary[type=main,title={Glossary},toctitle={Glossary}]
        % Bilderverzeichnis
            %\cleardoublepage
        \addcontentsline{toc}{chapter}{\listfigurename}
        \listoffigures
        % Tabellenverzeichnis
            %\cleardoublepage
        \addcontentsline{toc}{chapter}{\listtablename}
        \listoftables
        % Literaturverzeichnis
            %\cleardoublepage
        \addcontentsline{toc}{chapter}{\bibname}
        \include{bibliography/bibliography}
    }

    %
    % Ende der Thesis 
    %
\end{document}