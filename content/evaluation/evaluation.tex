\chapter{Evaluation}
\label{chap:evaluation}

\chapterQuote{There are two ways to write error-free programs; only the third one works}{\citeauthor{alanPerlis}}{\citeyear{alanPerlis}}{\cite{alanPerlis}}

% wie werden Tests generiert
% Leistungsbewertung konkret an 1-2 Beispielen
% Codemetriken

% todo: Überschrift ändern
\section{PHP-Zielsprachenmodell}
\label{sec:php_target_language_model}

\Cref{fig:modelRepresentationOfBatchDTO} zeigt die Gegenüberstellung von \Cref{lst:batchDTO} in Form des \gls{AST} der durch das Sprachmodell gebildet wird. 

\begin{lstlisting}[
    language=PHP,
    caption=Ausschnitt der Datenklasse BatchDTO,
    label=lst:batchDTO
]
<?php
   require_once('Dto.php');
   require_once('OperationDTO.php');

   class BatchDTO
   {
      private $operations = array(); // operationDTO 
      ...
      public static function fromXML(
            /* SimpleXMLElement */ $xml
         )
      {
         $operations = OperationDTO::fromXML(/* SimpleXMLElement */ $xml->operations);
          ...
      }
      ...
   }
?>
\end{lstlisting}

\begin{sidewaysfigure}
    \centering
    \resizebox{1.05\textheight}{!}{
      \input{tikz_pgf/languageModelRepresentation}
    }
    \caption{Darstellung von BatchDTO aus \Cref{lst:batchDTO} im Sprachenmodell}
    \label{fig:modelRepresentationOfBatchDTO}
\end{sidewaysfigure}

\section{Nutzbarkeit}
\label{sec:usability}

Derzeit ist die Bibliothek noch eingeschränkt nutzbar, da die De-/Serialisier von strukturierten Typen noch nicht fehlerfrei generiert werden. Die Informationen die nötig sind um Datenklassen verlustfrei zu serialisieren bzw. deren \textsc{Xml}-Repräsentation zu deserialisieren sind im Schema-Modell (siehe \cref{sec:schema_model}) vorhanden, der Algorithmus im Codegenerator zur Erzeugung dieser Methoden muss deshalb überarbeitet werden.

\section{Leistungsbewertung}
\label{sec:performance_measurement}

\begin{lstlisting}[
    language=PHP,
    caption=Beispiel fuer eine Interaktion mit der Spreadshirt-API über die generierte Client-Bibliothek
    label=lst:giveMeALabel
]
<?php

require_once("data/LoginDTO.php");
require_once("resources/UsersUserId.php");
require_once("resources/Sessions.php");

$userId = "1234567";
$apiKey = "098fc12a-0777-426f-b47c-a7bb872cdf09";
$secret = "ba125903-68b2-4f3b-93ae-a83090e20ce8";

$loginDTO = new LoginDTO();
$loginDTO->setUsername("username");
$loginDTO->setPassword("password");
$resource = new Sessions();
$session = $resource->POST(null, $loginDTO);

$user = new UsersUserId($userId);

?>
\end{lstlisting}

%\section{Codemetriken}
%\label{sec:codemetrics}